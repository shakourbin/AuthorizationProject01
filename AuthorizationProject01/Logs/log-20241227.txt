2024-12-27 00:15:29.516 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 00:15:33.671 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 00:15:34.391 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 00:15:34.402 +03:30 [INF] Hosting environment: Development
2024-12-27 00:15:34.402 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 00:15:37.469 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 00:15:37.610 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 00:15:38.141 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:15:38.180 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 10.2249ms.
2024-12-27 00:15:38.273 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 00:15:39.414 +03:30 [INF] Executed ViewResult - view Index executed in 1158.0471ms.
2024-12-27 00:15:39.426 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1813.6717ms
2024-12-27 00:15:39.427 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 00:15:39.722 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 6127.8345ms
2024-12-27 00:15:40.237 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:15:41.179 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:15:41.224 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 38.9535ms
2024-12-27 00:15:41.885 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 00:15:42.352 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2120.6419ms
2024-12-27 00:15:42.364 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 00:15:42.438 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 550.6776ms
2024-12-27 00:15:43.449 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 00:15:43.688 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 00:15:43.736 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 00:15:43.743 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 295.0143ms
2024-12-27 00:15:43.750 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 00:15:43.952 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:15:43.962 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 00:15:44.539 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:15:44.543 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.9469ms.
2024-12-27 00:15:44.554 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 00:15:44.734 +03:30 [INF] Executed ViewResult - view Login executed in 189.5358ms.
2024-12-27 00:15:44.734 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 772.1507ms
2024-12-27 00:15:44.735 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:15:44.742 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 992.1984ms
2024-12-27 00:15:44.918 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:15:45.350 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:15:45.401 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 51.6242ms
2024-12-27 00:15:46.317 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1399.0397ms
2024-12-27 00:15:52.013 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 00:15:52.271 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:15:52.346 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 00:15:52.674 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:16:01.057 +03:30 [INF] Executed DbCommand (274ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 00:16:02.411 +03:30 [INF] Executed DbCommand (34ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 00:16:02.614 +03:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 00:16:02.656 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 00:16:03.122 +03:30 [INF] Executed DbCommand (294ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 00:16:03.206 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 00:16:03.255 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 00:16:09.807 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 00:16:12.683 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 20336.4511ms
2024-12-27 00:16:12.686 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:16:12.710 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'ApplicationDbContext' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AccountController.CreateTemp(String userId) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 78
   at AccountController.Login(String email, String password) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-27 00:16:13.628 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 500 null text/html; charset=utf-8 21615.0345ms
2024-12-27 00:16:14.330 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:16:14.336 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 6.6354ms
2024-12-27 00:16:14.436 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:16:14.475 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.187ms
2024-12-27 00:17:53.578 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 00:17:55.130 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 00:17:55.603 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 00:17:55.606 +03:30 [INF] Hosting environment: Development
2024-12-27 00:17:55.607 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 00:17:56.170 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 00:17:56.239 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 00:17:56.504 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:17:56.534 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.771ms.
2024-12-27 00:17:56.600 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 00:17:57.318 +03:30 [INF] Executed ViewResult - view Index executed in 680.0599ms.
2024-12-27 00:17:57.329 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1087.2253ms
2024-12-27 00:17:57.331 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 00:17:57.395 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2361.8055ms
2024-12-27 00:17:57.945 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:17:57.950 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:17:58.100 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 143.9404ms
2024-12-27 00:17:58.309 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 367.9148ms
2024-12-27 00:17:58.547 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 00:17:58.648 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 00:17:58.677 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 129.2956ms
2024-12-27 00:18:00.269 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 00:18:00.476 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 00:18:00.505 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 00:18:00.517 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 240.9911ms
2024-12-27 00:18:00.532 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 00:18:00.772 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:00.781 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 00:18:00.958 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:18:00.959 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.551ms.
2024-12-27 00:18:00.965 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 00:18:01.153 +03:30 [INF] Executed ViewResult - view Login executed in 193.0815ms.
2024-12-27 00:18:01.155 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 373.1318ms
2024-12-27 00:18:01.155 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:01.165 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 633.1253ms
2024-12-27 00:18:01.791 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:18:01.945 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 152.3982ms
2024-12-27 00:18:02.008 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:18:02.474 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 465.3034ms
2024-12-27 00:18:07.490 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 00:18:07.788 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:07.852 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 00:18:08.090 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:18:12.242 +03:30 [INF] Executed DbCommand (346ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 00:18:13.582 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 00:18:13.694 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 00:18:13.733 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 00:18:13.802 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 00:18:13.829 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 00:18:13.867 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 00:18:18.844 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 00:18:24.230 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 16377.0877ms
2024-12-27 00:18:24.252 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:24.283 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'ApplicationDbContext' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AccountController.CreateTemp(String userId) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 78
   at AccountController.Login(String email, String password) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-27 00:18:24.975 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 500 null text/html; charset=utf-8 17485.5474ms
2024-12-27 00:18:25.564 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:18:25.567 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 3.5081ms
2024-12-27 00:18:25.568 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:18:25.707 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.7757ms
2024-12-27 00:18:38.242 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 00:18:38.420 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:38.421 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 00:18:38.622 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:18:38.623 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0623ms.
2024-12-27 00:18:38.624 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 00:18:38.637 +03:30 [INF] Executed ViewResult - view Login executed in 13.6832ms.
2024-12-27 00:18:38.637 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 215.7453ms
2024-12-27 00:18:38.637 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:38.638 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 396.3283ms
2024-12-27 00:18:38.718 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:18:38.721 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 3.5753ms
2024-12-27 00:18:43.747 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 00:18:43.890 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:43.891 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 00:18:47.389 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:18:47.671 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 00:18:48.131 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 00:18:48.144 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 00:18:48.151 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 00:18:48.160 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 00:18:48.162 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 00:18:48.169 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 00:18:48.171 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 00:18:53.928 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 10036.3802ms
2024-12-27 00:18:53.929 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:18:53.932 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'ApplicationDbContext' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AccountController.CreateTemp(String userId) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 78
   at AccountController.Login(String email, String password) in D:\Projects\AuthorizationProject01\AuthorizationProject01\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-27 00:18:53.982 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 500 null text/html; charset=utf-8 10234.9208ms
2024-12-27 00:18:54.716 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:18:54.720 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 4.0303ms
2024-12-27 00:18:54.721 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 00:18:55.845 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1124.2326ms
2024-12-27 00:22:22.034 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 00:22:22.347 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:22:22.347 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 00:22:22.543 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 00:22:22.543 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.091ms.
2024-12-27 00:22:22.545 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 00:22:22.553 +03:30 [INF] Executed ViewResult - view Login executed in 9.5303ms.
2024-12-27 00:22:22.554 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 206.4031ms
2024-12-27 00:22:22.555 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 00:22:22.556 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 522.3229ms
2024-12-27 00:22:22.639 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 00:22:22.643 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 3.7359ms
2024-12-27 08:30:07.477 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 08:30:09.568 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 08:30:10.209 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 08:30:10.212 +03:30 [INF] Hosting environment: Development
2024-12-27 08:30:10.212 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 08:30:10.778 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 08:30:10.886 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 08:30:11.173 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 08:30:11.198 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.0744ms.
2024-12-27 08:30:11.260 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 08:30:12.078 +03:30 [INF] Executed ViewResult - view Index executed in 816.881ms.
2024-12-27 08:30:12.086 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1196.0902ms
2024-12-27 08:30:12.087 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 08:30:12.148 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2638.1998ms
2024-12-27 08:30:13.139 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 08:30:13.356 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 08:30:13.394 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 264.0608ms
2024-12-27 08:30:13.980 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 08:30:13.989 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 08:30:14.006 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 499 13780 application/javascript; charset=utf-8 14.2476ms
2024-12-27 08:30:14.019 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 08:30:14.277 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 08:30:14.317 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 08:30:14.325 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 305.7879ms
2024-12-27 08:30:14.364 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 08:30:14.539 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 08:30:14.548 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 08:30:14.575 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 595.2391ms
2024-12-27 08:30:14.891 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 08:30:14.892 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5654ms.
2024-12-27 08:30:14.911 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 08:30:15.035 +03:30 [INF] Executed ViewResult - view Login executed in 127.0066ms.
2024-12-27 08:30:15.035 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 487.1616ms
2024-12-27 08:30:15.036 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 08:30:15.059 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 694.5952ms
2024-12-27 08:30:15.611 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 08:30:15.767 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 155.8741ms
2024-12-27 08:30:15.836 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 08:30:16.369 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 533.226ms
2024-12-27 08:30:20.921 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 08:30:21.239 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 08:30:21.301 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 08:30:21.636 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 08:30:31.788 +03:30 [INF] Executed DbCommand (558ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 08:30:33.133 +03:30 [INF] Executed DbCommand (39ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 08:30:33.307 +03:30 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 08:30:33.343 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 08:30:33.410 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 08:30:33.444 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 08:30:33.477 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 08:30:42.530 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:05:21.594 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:05:23.757 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:05:24.218 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:05:24.222 +03:30 [INF] Hosting environment: Development
2024-12-27 09:05:24.223 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:05:25.105 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:05:25.243 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:05:25.615 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:05:25.651 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.76ms.
2024-12-27 09:05:25.709 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:05:26.329 +03:30 [INF] Executed ViewResult - view Index executed in 610.3794ms.
2024-12-27 09:05:26.335 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1089.7447ms
2024-12-27 09:05:26.336 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:05:26.418 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2706.4661ms
2024-12-27 09:05:27.463 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:05:27.584 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:05:27.613 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 152.8614ms
2024-12-27 09:05:28.019 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:05:28.050 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:05:28.101 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 48.8309ms
2024-12-27 09:05:28.383 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 364.3921ms
2024-12-27 09:05:41.322 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:05:41.537 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:05:41.572 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:05:41.582 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 259.74ms
2024-12-27 09:05:41.604 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:05:41.751 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:05:41.764 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:05:41.952 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:05:41.953 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5907ms.
2024-12-27 09:05:41.956 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:05:42.014 +03:30 [INF] Executed ViewResult - view Login executed in 60.6481ms.
2024-12-27 09:05:42.016 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 251.8618ms
2024-12-27 09:05:42.016 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:05:42.023 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 418.5282ms
2024-12-27 09:05:42.434 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:05:42.725 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:05:42.973 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 226.0342ms
2024-12-27 09:05:43.007 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 573.1023ms
2024-12-27 09:05:48.957 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 09:05:49.172 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:05:49.215 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:05:49.416 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:05:55.672 +03:30 [INF] Executed DbCommand (319ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:05:57.893 +03:30 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:05:58.105 +03:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:05:58.142 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:05:58.235 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:05:58.261 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:05:58.301 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:06:03.429 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:06:08.797 +03:30 [ERR] Failed executing DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM #tempdb_843f2148-5d54-4e46-ae8d-49fad813ed9e
2024-12-27 09:07:12.140 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 82723.6336ms.
2024-12-27 09:07:12.218 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:07:12.245 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 83030.1944ms
2024-12-27 09:07:12.247 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:07:12.383 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:07:12.515 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 83564.0533ms
2024-12-27 09:07:12.690 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:07:12.691 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:07:12.871 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:07:12.872 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.037ms.
2024-12-27 09:07:12.874 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:07:12.881 +03:30 [INF] Executed ViewResult - view Index executed in 8.5557ms.
2024-12-27 09:07:12.881 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 189.8826ms
2024-12-27 09:07:12.881 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:07:12.883 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 499.9741ms
2024-12-27 09:07:13.480 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:07:13.507 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:08:33.930 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 80441.3988ms
2024-12-27 09:10:48.166 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:10:49.422 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:10:49.907 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:10:49.910 +03:30 [INF] Hosting environment: Development
2024-12-27 09:10:49.910 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:10:50.771 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:10:50.870 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:10:51.228 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:10:51.254 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.1093ms.
2024-12-27 09:10:51.336 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:10:51.936 +03:30 [INF] Executed ViewResult - view Index executed in 577.9263ms.
2024-12-27 09:10:51.941 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1068.8271ms
2024-12-27 09:10:51.942 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:10:51.996 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2625.4228ms
2024-12-27 09:10:53.356 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:10:53.487 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:10:53.518 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 167.5101ms
2024-12-27 09:10:53.872 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:10:53.915 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:10:53.923 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 42.1047ms
2024-12-27 09:10:53.984 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:10:54.252 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:10:54.285 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:10:54.299 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 315.5231ms
2024-12-27 09:10:54.322 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:10:54.467 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 544.5943ms
2024-12-27 09:10:54.588 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:10:54.598 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:10:54.845 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:10:54.846 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6247ms.
2024-12-27 09:10:54.849 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:10:54.915 +03:30 [INF] Executed ViewResult - view Login executed in 68.0642ms.
2024-12-27 09:10:54.916 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 317.6647ms
2024-12-27 09:10:54.917 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:10:54.939 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 613.1929ms
2024-12-27 09:10:55.053 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:10:55.177 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 124.5641ms
2024-12-27 09:10:55.186 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:10:55.454 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 268.3299ms
2024-12-27 09:11:02.073 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 09:11:02.280 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:11:02.353 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:11:02.729 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:11:11.871 +03:30 [INF] Executed DbCommand (312ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:11:13.309 +03:30 [INF] Executed DbCommand (45ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:11:13.443 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:11:13.485 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:11:13.570 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:11:13.609 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:11:13.644 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:11:22.556 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:11:32.930 +03:30 [ERR] Failed executing DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM #tempdb_29fdbb91-ea6b-4d8a-afcf-35055dd9196d
2024-12-27 09:15:14.269 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:15:16.094 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:15:17.034 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:15:17.048 +03:30 [INF] Hosting environment: Development
2024-12-27 09:15:17.049 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:15:17.901 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:15:18.016 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:15:18.313 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:15:18.335 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.2791ms.
2024-12-27 09:15:18.383 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:15:18.915 +03:30 [INF] Executed ViewResult - view Index executed in 507.9895ms.
2024-12-27 09:15:18.923 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 904.5877ms
2024-12-27 09:15:18.924 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:15:18.981 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2959.21ms
2024-12-27 09:15:20.003 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:15:20.108 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:15:20.132 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 134.4192ms
2024-12-27 09:15:20.541 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:15:20.592 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 44.0815ms
2024-12-27 09:15:20.594 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:15:20.902 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 308.5392ms
2024-12-27 09:15:21.068 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:15:21.277 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:15:21.311 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:15:21.317 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 249.9385ms
2024-12-27 09:15:21.331 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:15:21.467 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:15:21.475 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:15:21.753 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:15:21.757 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.0601ms.
2024-12-27 09:15:21.762 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:15:21.851 +03:30 [INF] Executed ViewResult - view Login executed in 92.0114ms.
2024-12-27 09:15:21.852 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 376.6261ms
2024-12-27 09:15:21.853 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:15:21.936 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 603.3518ms
2024-12-27 09:15:22.351 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:15:22.375 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 23.8367ms
2024-12-27 09:15:22.394 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:15:22.654 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 260.3358ms
2024-12-27 09:15:28.036 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 09:15:28.255 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:15:28.342 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:15:28.808 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:15:38.993 +03:30 [INF] Executed DbCommand (756ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:15:41.545 +03:30 [INF] Executed DbCommand (35ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:15:41.963 +03:30 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:15:42.027 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:15:42.181 +03:30 [INF] Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:15:42.229 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:15:42.294 +03:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:15:53.606 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:16:05.944 +03:30 [ERR] Failed executing DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
select top 1 * FROM #tempdb_843f2148-5d54-4e46-ae8d-49fad813ed9e
2024-12-27 09:18:09.897 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:18:11.179 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:18:11.768 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:18:12.135 +03:30 [INF] Hosting environment: Development
2024-12-27 09:18:12.135 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:18:12.881 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:18:13.028 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:18:13.386 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:18:13.412 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.9062ms.
2024-12-27 09:18:13.469 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:18:14.016 +03:30 [INF] Executed ViewResult - view Index executed in 521.3886ms.
2024-12-27 09:18:14.021 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 991.3921ms
2024-12-27 09:18:14.022 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:18:14.129 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 3014.8049ms
2024-12-27 09:18:15.034 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:18:15.154 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:18:15.182 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 151.8336ms
2024-12-27 09:18:15.699 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:18:15.795 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:18:15.814 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 14.2328ms
2024-12-27 09:18:15.979 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:18:16.425 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 722.8326ms
2024-12-27 09:18:16.533 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:18:16.619 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:18:16.689 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 710.2867ms
2024-12-27 09:18:16.721 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:18:17.429 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:18:17.440 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:18:18.173 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:18:18.174 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5885ms.
2024-12-27 09:18:18.179 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:18:18.328 +03:30 [INF] Executed ViewResult - view Login executed in 152.4407ms.
2024-12-27 09:18:18.329 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 888.1483ms
2024-12-27 09:18:18.331 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:18:18.342 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 1621.6803ms
2024-12-27 09:18:18.826 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:18:18.943 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 117.5492ms
2024-12-27 09:18:18.944 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:18:19.854 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 893.0001ms
2024-12-27 09:18:24.789 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 09:18:25.033 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:18:25.112 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:18:25.468 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:18:35.111 +03:30 [INF] Executed DbCommand (289ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:18:36.736 +03:30 [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:18:36.906 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:18:36.958 +03:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:18:37.067 +03:30 [INF] Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:18:37.125 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:18:37.163 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:18:40.159 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:18:52.615 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 27146.0856ms.
2024-12-27 09:18:52.622 +03:30 [ERR] Failed executing DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
select into #tempdb_29fdbb91-ea6b-4d8a-afcf-35055dd9196d from AspNetUserClaims where UserId = 29fdbb91-ea6b-4d8a-afcf-35055dd9196d
2024-12-27 09:18:52.631 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:18:52.635 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 27523.1472ms
2024-12-27 09:18:52.638 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:18:52.682 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:18:52.781 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 27992.1975ms
2024-12-27 09:18:53.110 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:18:53.113 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:18:53.355 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:18:53.355 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0708ms.
2024-12-27 09:18:53.356 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:18:53.370 +03:30 [INF] Executed ViewResult - view Index executed in 14.2669ms.
2024-12-27 09:18:53.371 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 257.0956ms
2024-12-27 09:18:53.371 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:18:53.372 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 689.7398ms
2024-12-27 09:18:53.416 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near the keyword 'into'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9c2fbc1d-5d52-4299-8900-81cc7aa430e6
Error Number:156,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near the keyword 'into'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9c2fbc1d-5d52-4299-8900-81cc7aa430e6
Error Number:156,State:1,Class:15
2024-12-27 09:18:53.921 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:18:53.922 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:18:54.307 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 333.1372ms
2024-12-27 09:22:57.250 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:22:59.005 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:22:59.677 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:22:59.680 +03:30 [INF] Hosting environment: Development
2024-12-27 09:22:59.680 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:23:00.408 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:23:00.525 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:23:00.951 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:23:00.979 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.9243ms.
2024-12-27 09:23:01.045 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:23:01.736 +03:30 [INF] Executed ViewResult - view Index executed in 657.0669ms.
2024-12-27 09:23:01.744 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1216.2878ms
2024-12-27 09:23:01.745 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:23:01.823 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2872.2189ms
2024-12-27 09:23:02.915 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:23:03.080 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:23:03.111 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 230.1112ms
2024-12-27 09:23:03.686 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:23:03.733 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 45.1764ms
2024-12-27 09:23:03.785 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:23:03.896 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:23:04.263 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:23:04.308 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:23:04.386 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 490.7511ms
2024-12-27 09:23:04.499 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:23:04.535 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 750.0154ms
2024-12-27 09:23:05.517 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:23:05.527 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:23:05.872 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:23:05.873 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5494ms.
2024-12-27 09:23:05.887 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:23:05.982 +03:30 [INF] Executed ViewResult - view Login executed in 107.6622ms.
2024-12-27 09:23:05.983 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 455.1606ms
2024-12-27 09:23:05.983 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:23:06.095 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 1596.6609ms
2024-12-27 09:23:06.299 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:23:06.331 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 31.2666ms
2024-12-27 09:23:06.332 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:23:06.888 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 556.5636ms
2024-12-27 09:23:11.531 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 09:23:11.707 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:23:11.841 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:23:12.211 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:23:20.302 +03:30 [INF] Executed DbCommand (256ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:23:21.550 +03:30 [INF] Executed DbCommand (44ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:23:21.704 +03:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:23:21.743 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:23:21.820 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:23:21.843 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:23:21.877 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:23:25.363 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:23:37.164 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 24952.6264ms.
2024-12-27 09:23:37.173 +03:30 [ERR] Failed executing DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
select * into #tempdb_843f2148-5d54-4e46-ae8d-49fad813ed9e from AspNetUserClaims where UserId = 843f2148-5d54-4e46-ae8d-49fad813ed9e
2024-12-27 09:23:37.182 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:23:37.187 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 25346.2222ms
2024-12-27 09:23:37.190 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:23:37.216 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:23:37.297 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 25766.1633ms
2024-12-27 09:23:37.430 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:23:37.432 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:23:37.573 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:23:37.574 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0877ms.
2024-12-27 09:23:37.575 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:23:37.583 +03:30 [INF] Executed ViewResult - view Index executed in 8.6142ms.
2024-12-27 09:23:37.583 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 151.5102ms
2024-12-27 09:23:37.584 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:23:37.588 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 372.0567ms
2024-12-27 09:23:37.737 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '-'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3b100b04-cf32-4e31-8c91-0f83adc90b75
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '-'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3b100b04-cf32-4e31-8c91-0f83adc90b75
Error Number:102,State:1,Class:15
2024-12-27 09:23:38.174 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:33:27.254 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:33:28.736 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:33:29.343 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:33:29.346 +03:30 [INF] Hosting environment: Development
2024-12-27 09:33:29.347 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:33:30.322 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:33:30.475 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:33:31.027 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:33:31.079 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 6.5185ms.
2024-12-27 09:33:31.177 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:33:32.257 +03:30 [INF] Executed ViewResult - view Index executed in 1052.6664ms.
2024-12-27 09:33:32.261 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1783.9787ms
2024-12-27 09:33:32.262 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:33:32.484 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 3803.7166ms
2024-12-27 09:33:32.929 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:33:32.977 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:33:33.085 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 105.2644ms
2024-12-27 09:33:33.397 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 471.6391ms
2024-12-27 09:33:33.746 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:33:34.026 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:33:34.079 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 332.553ms
2024-12-27 09:33:35.235 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:33:35.563 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:33:35.600 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:33:35.616 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 380.7891ms
2024-12-27 09:33:35.623 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:33:35.792 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:33:35.804 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:33:36.155 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:33:36.156 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5307ms.
2024-12-27 09:33:36.162 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:33:36.249 +03:30 [INF] Executed ViewResult - view Login executed in 90.5531ms.
2024-12-27 09:33:36.250 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 446.054ms
2024-12-27 09:33:36.250 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:33:36.263 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 640.7102ms
2024-12-27 09:33:36.608 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:33:36.869 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:33:36.898 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 33.1413ms
2024-12-27 09:33:37.092 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 485.714ms
2024-12-27 09:33:45.899 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 09:33:46.079 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:33:46.133 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:33:46.353 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:33:52.675 +03:30 [INF] Executed DbCommand (234ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:33:53.886 +03:30 [INF] Executed DbCommand (44ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:33:54.023 +03:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:33:54.063 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:33:54.222 +03:30 [INF] Executed DbCommand (67ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:33:54.262 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:33:54.321 +03:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:34:50.288 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:35:00.694 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 74340.0822ms.
2024-12-27 09:35:00.781 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:35:00.796 +03:30 [ERR] Failed executing DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
select * into #tempdb_29fdbb91ea6b4d8aafcf35055dd9196d from AspNetUserClaims where UserId = 29fdbb91-ea6b-4d8a-afcf-35055dd9196d
2024-12-27 09:35:00.800 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 74666.4952ms
2024-12-27 09:35:00.802 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:35:00.869 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:35:00.875 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 74976.3565ms
2024-12-27 09:35:01.125 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:35:01.126 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:35:01.664 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:35:01.665 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.066ms.
2024-12-27 09:35:01.666 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:35:01.674 +03:30 [INF] Executed ViewResult - view Index executed in 8.4958ms.
2024-12-27 09:35:01.675 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 545.0153ms
2024-12-27 09:35:01.675 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:35:01.676 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 807.5874ms
2024-12-27 09:35:01.783 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'fdbb91'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5bafca25-3da5-4b52-80b8-501ce0161bb0
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'fdbb91'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5bafca25-3da5-4b52-80b8-501ce0161bb0
Error Number:102,State:1,Class:15
2024-12-27 09:35:02.184 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:35:02.185 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:37:43.405 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:37:44.845 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:37:45.599 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:37:45.603 +03:30 [INF] Hosting environment: Development
2024-12-27 09:37:45.604 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:37:46.406 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:37:46.520 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:37:46.967 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:37:47.006 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 3.3691ms.
2024-12-27 09:37:47.087 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:37:47.998 +03:30 [INF] Executed ViewResult - view Index executed in 872.1791ms.
2024-12-27 09:37:48.005 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1483.5936ms
2024-12-27 09:37:48.007 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:37:48.078 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 3371.1903ms
2024-12-27 09:37:48.920 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:37:49.063 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:37:49.110 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 197.3819ms
2024-12-27 09:37:49.442 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:37:49.514 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 61.1285ms
2024-12-27 09:37:49.516 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:37:50.017 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 501.2111ms
2024-12-27 09:37:50.019 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:37:50.626 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:37:50.699 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:37:50.742 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 718.8347ms
2024-12-27 09:37:50.842 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:37:51.262 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:37:51.272 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:37:51.598 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:37:51.599 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6234ms.
2024-12-27 09:37:51.603 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:37:51.709 +03:30 [INF] Executed ViewResult - view Login executed in 108.507ms.
2024-12-27 09:37:51.710 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 437.9173ms
2024-12-27 09:37:51.710 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:37:51.727 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 884.6847ms
2024-12-27 09:37:51.948 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:37:52.024 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 75.5251ms
2024-12-27 09:37:52.066 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:37:52.595 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 529.1723ms
2024-12-27 09:37:57.221 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 09:37:57.463 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:37:57.569 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:37:57.922 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:38:06.954 +03:30 [INF] Executed DbCommand (343ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:38:08.424 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:38:08.590 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:38:08.624 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:38:08.702 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:38:08.724 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:38:08.758 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:38:12.905 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:38:24.981 +03:30 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
select * into #tempdb_843f21485d544e46ae8d49fad813ed9e from AspNetUserClaims where UserId = '843f2148-5d54-4e46-ae8d-49fad813ed9e'
2024-12-27 09:38:25.119 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 27197.3841ms.
2024-12-27 09:38:25.143 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:38:25.151 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 27580.6898ms
2024-12-27 09:38:25.165 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:38:25.362 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 28141.0154ms
2024-12-27 09:38:25.611 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:38:26.073 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:38:26.074 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:38:26.259 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:38:26.260 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.064ms.
2024-12-27 09:38:26.261 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:38:26.263 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-12-27 09:38:26.267 +03:30 [INF] Executed ViewResult - view Index executed in 6.9713ms.
2024-12-27 09:38:26.268 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 193.6596ms
2024-12-27 09:38:26.268 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:38:26.269 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 657.9836ms
2024-12-27 09:38:26.430 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:38:27.052 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:41:41.198 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 194145.8193ms
2024-12-27 09:41:41.320 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 194889.5761ms
2024-12-27 09:52:33.596 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:52:34.612 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:52:35.181 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:52:35.184 +03:30 [INF] Hosting environment: Development
2024-12-27 09:52:35.184 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:52:35.735 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:52:35.798 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:52:36.020 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:52:36.038 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 1.8711ms.
2024-12-27 09:52:36.076 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:52:36.679 +03:30 [INF] Executed ViewResult - view Index executed in 531.6777ms.
2024-12-27 09:52:36.684 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 883.6499ms
2024-12-27 09:52:36.688 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:52:36.967 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2183.5965ms
2024-12-27 09:52:37.404 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:52:37.421 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:52:37.527 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 103.4885ms
2024-12-27 09:52:37.815 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 413.7803ms
2024-12-27 09:52:37.999 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:52:38.094 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:52:38.123 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 124.7578ms
2024-12-27 09:52:54.182 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:52:54.418 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:52:54.459 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:52:54.469 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 287.6024ms
2024-12-27 09:52:54.492 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:52:54.620 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:52:54.627 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:52:54.950 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:52:54.952 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6171ms.
2024-12-27 09:52:55.022 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:52:55.126 +03:30 [INF] Executed ViewResult - view Login executed in 109.8115ms.
2024-12-27 09:52:55.127 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 498.7281ms
2024-12-27 09:52:55.127 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:52:55.141 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 648.7055ms
2024-12-27 09:52:55.284 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:52:55.312 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 28.6774ms
2024-12-27 09:52:55.325 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:52:55.660 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 335.3809ms
2024-12-27 09:53:00.576 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 09:53:00.726 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:53:00.767 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:53:00.998 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:53:07.425 +03:30 [INF] Executed DbCommand (287ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:53:08.696 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:53:08.819 +03:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:53:08.850 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:53:08.919 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:53:08.947 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:53:08.992 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:53:15.495 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:53:19.711 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 18712.8947ms.
2024-12-27 09:53:19.721 +03:30 [ERR] Failed executing DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE #TempUserClaims_29fdbb91ea6b4d8aafcf35055dd9196d
  Id INT PRIMARY KEY,
UserId NVARCHAR(100),
    ClaimType NVARCHAR(100),
ClaimValue NVARCHAR(100));
Go 
INSERT INTO #TempUserClaims_29fdbb91ea6b4d8aafcf35055dd9196d select * from AspNetUserClaims from UserId = '29fdbb91-ea6b-4d8a-afcf-35055dd9196d'
2024-12-27 09:53:19.732 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:53:19.739 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 18971.1849ms
2024-12-27 09:53:19.741 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:53:19.797 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 19221.21ms
2024-12-27 09:53:19.839 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:53:20.264 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:53:20.265 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:53:20.753 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:53:20.753 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0419ms.
2024-12-27 09:53:20.754 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:53:20.838 +03:30 [INF] Executed ViewResult - view Index executed in 84.0083ms.
2024-12-27 09:53:20.838 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 573.5236ms
2024-12-27 09:53:20.839 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:53:20.840 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 1001.1257ms
2024-12-27 09:53:21.056 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Id'.
Incorrect syntax near the keyword 'from'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5635351e-f95e-4ac9-ab51-b7d289429f16
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Id'.
Incorrect syntax near the keyword 'from'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5635351e-f95e-4ac9-ab51-b7d289429f16
Error Number:102,State:1,Class:15
2024-12-27 09:53:21.341 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:53:21.342 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:56:26.513 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 09:56:29.032 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:56:29.533 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 09:56:29.583 +03:30 [INF] Hosting environment: Development
2024-12-27 09:56:29.584 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 09:56:30.616 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:56:30.759 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:56:31.287 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:56:31.335 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.7122ms.
2024-12-27 09:56:31.405 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 09:56:31.954 +03:30 [INF] Executed ViewResult - view Index executed in 530.7817ms.
2024-12-27 09:56:31.961 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1199.0263ms
2024-12-27 09:56:31.962 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:56:32.020 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 3055.2581ms
2024-12-27 09:56:32.528 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:56:32.547 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:56:32.697 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 11.778ms
2024-12-27 09:56:33.026 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 09:56:33.062 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 536.4234ms
2024-12-27 09:56:33.211 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 09:56:33.269 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 242.8978ms
2024-12-27 09:56:52.465 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 09:56:52.701 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 09:56:52.734 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 09:56:52.739 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 274.5118ms
2024-12-27 09:56:52.748 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 09:56:52.968 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:56:52.994 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 09:56:53.248 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:56:53.249 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.631ms.
2024-12-27 09:56:53.253 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 09:56:53.320 +03:30 [INF] Executed ViewResult - view Login executed in 70.1054ms.
2024-12-27 09:56:53.321 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 327.1331ms
2024-12-27 09:56:53.323 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:56:53.406 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 657.6705ms
2024-12-27 09:56:53.440 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 09:56:53.494 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 38.8811ms
2024-12-27 09:56:53.786 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 09:56:54.024 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 238.405ms
2024-12-27 09:56:58.336 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 09:56:58.541 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:56:58.612 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 09:56:58.956 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:57:05.645 +03:30 [INF] Executed DbCommand (265ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 09:57:06.874 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 09:57:07.078 +03:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 09:57:07.117 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 09:57:07.180 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 09:57:07.203 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 09:57:07.236 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 09:57:10.995 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 09:57:17.985 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 19028.1709ms.
2024-12-27 09:57:17.990 +03:30 [ERR] Failed executing DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE #TempUserClaims_843f21485d544e46ae8d49fad813ed9e
  Id INT PRIMARY KEY,
UserId NVARCHAR(450),
    ClaimType NVARCHAR(max),
ClaimValue NVARCHAR(max));
Go 
INSERT INTO #TempUserClaims_843f21485d544e46ae8d49fad813ed9e select * from AspNetUserClaims where UserId = '843f2148-5d54-4e46-ae8d-49fad813ed9e'
2024-12-27 09:57:17.999 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 09:57:18.008 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 19395.5469ms
2024-12-27 09:57:18.011 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 09:57:18.064 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 19728.873ms
2024-12-27 09:57:18.103 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 09:57:18.723 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 09:57:18.725 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 09:57:18.729 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Id'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91166901-6e22-4678-ac3d-0bc2c2e9fbdc
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Id'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91166901-6e22-4678-ac3d-0bc2c2e9fbdc
Error Number:102,State:1,Class:15
2024-12-27 09:57:19.093 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 09:57:19.094 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0369ms.
2024-12-27 09:57:19.096 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:02:09.356 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 10:02:14.893 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:02:16.678 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 10:02:16.680 +03:30 [INF] Hosting environment: Development
2024-12-27 10:02:16.681 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 10:02:17.882 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:02:18.033 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 10:02:18.484 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:02:18.512 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.5039ms.
2024-12-27 10:02:18.620 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:02:19.879 +03:30 [INF] Executed ViewResult - view Index executed in 1263.6216ms.
2024-12-27 10:02:19.887 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1849.7593ms
2024-12-27 10:02:19.888 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:02:20.146 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 5855.2914ms
2024-12-27 10:02:21.707 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:02:21.733 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 27.6611ms
2024-12-27 10:02:21.741 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:02:22.439 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 10:02:23.013 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 10:02:23.514 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 1075.2845ms
2024-12-27 10:02:23.559 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1815.4591ms
2024-12-27 10:02:24.175 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 10:02:25.590 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 10:02:26.218 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 10:02:26.236 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 10:02:26.251 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 10:02:26.252 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 10:02:26.253 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 499 null null 2078.1413ms
2024-12-27 10:02:26.260 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 669.5343ms
2024-12-27 10:02:26.358 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 10:02:26.712 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:02:26.725 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 10:02:27.224 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:02:27.225 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.5563ms.
2024-12-27 10:02:27.229 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 10:02:27.447 +03:30 [INF] Executed ViewResult - view Login executed in 220.9882ms.
2024-12-27 10:02:27.448 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 722.3098ms
2024-12-27 10:02:27.448 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:02:27.462 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 1104.0197ms
2024-12-27 10:02:28.196 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:02:28.243 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 47.3456ms
2024-12-27 10:02:28.245 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:02:29.276 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1030.881ms
2024-12-27 10:02:33.881 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 226
2024-12-27 10:02:34.121 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:02:34.240 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 10:02:34.796 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:02:44.920 +03:30 [INF] Executed DbCommand (327ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 10:02:48.231 +03:30 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 10:02:48.394 +03:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 10:02:48.441 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 10:02:48.539 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 10:02:48.571 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 10:02:48.619 +03:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 10:02:54.372 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 10:03:11.002 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 36205.8739ms.
2024-12-27 10:03:11.018 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 10:03:11.022 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 36781.187ms
2024-12-27 10:03:11.024 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:03:11.225 +03:30 [ERR] Failed executing DbCommand (374ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE #TempUserClaims_29fdbb91ea6b4d8aafcf35055dd9196d (
  Id INT PRIMARY KEY,
UserId NVARCHAR(450),
    ClaimType NVARCHAR(max),
ClaimValue NVARCHAR(max));
Go 
INSERT INTO #TempUserClaims_29fdbb91ea6b4d8aafcf35055dd9196d select * from AspNetUserClaims where UserId = '29fdbb91-ea6b-4d8a-afcf-35055dd9196d'
2024-12-27 10:03:11.640 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 37759.5583ms
2024-12-27 10:03:12.671 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Go'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:017f4497-2188-4fcd-b973-037ee56c820b
Error Number:102,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near 'Go'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:017f4497-2188-4fcd-b973-037ee56c820b
Error Number:102,State:1,Class:15
2024-12-27 10:04:53.620 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:06:58.283 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 10:07:01.000 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:07:01.789 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 10:07:01.791 +03:30 [INF] Hosting environment: Development
2024-12-27 10:07:01.792 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 10:07:02.553 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:07:02.666 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 10:07:03.075 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:07:03.106 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.6361ms.
2024-12-27 10:07:03.180 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:07:04.382 +03:30 [INF] Executed ViewResult - view Index executed in 1216.0958ms.
2024-12-27 10:07:04.389 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1720.7691ms
2024-12-27 10:07:04.391 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:07:04.461 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 3583.5041ms
2024-12-27 10:07:07.506 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 10:07:08.677 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 10:07:08.731 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 1230.1799ms
2024-12-27 10:07:09.374 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:07:09.399 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:07:09.530 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 94.7501ms
2024-12-27 10:07:09.761 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 387.3695ms
2024-12-27 10:07:11.513 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 10:07:11.777 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 10:07:11.812 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 10:07:11.820 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 307.2712ms
2024-12-27 10:07:11.831 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 10:07:11.997 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:07:12.007 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 10:07:12.221 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:07:12.222 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6973ms.
2024-12-27 10:07:12.232 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 10:07:12.308 +03:30 [INF] Executed ViewResult - view Login executed in 84.8443ms.
2024-12-27 10:07:12.310 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 302.0799ms
2024-12-27 10:07:12.310 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:07:12.426 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 594.6218ms
2024-12-27 10:07:12.838 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:07:12.914 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 76.2367ms
2024-12-27 10:07:12.954 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:07:13.269 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 315.4707ms
2024-12-27 10:07:24.303 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 10:07:24.539 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:07:24.768 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 10:07:25.085 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:07:33.918 +03:30 [INF] Executed DbCommand (333ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 10:07:35.170 +03:30 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 10:07:35.341 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 10:07:35.374 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 10:07:35.451 +03:30 [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 10:07:35.484 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 10:07:35.517 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 10:07:39.025 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 10:07:48.359 +03:30 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE #TempUserClaims_843f21485d544e46ae8d49fad813ed9e (
  Id INT PRIMARY KEY,
UserId NVARCHAR(450),
    ClaimType NVARCHAR(max),
ClaimValue NVARCHAR(max));
INSERT INTO #TempUserClaims_843f21485d544e46ae8d49fad813ed9e select * from AspNetUserClaims where UserId = '843f2148-5d54-4e46-ae8d-49fad813ed9e'
2024-12-27 10:07:48.539 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 23453.4115ms.
2024-12-27 10:07:48.556 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 10:07:48.565 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 23796.2233ms
2024-12-27 10:07:48.567 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:07:48.694 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 24388.4719ms
2024-12-27 10:07:48.750 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:07:49.122 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:07:49.123 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 10:07:49.336 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:07:49.337 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0524ms.
2024-12-27 10:07:49.338 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:07:49.347 +03:30 [INF] Executed ViewResult - view Index executed in 8.7886ms.
2024-12-27 10:07:49.347 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 224.1655ms
2024-12-27 10:07:49.347 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:07:49.348 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 598.7777ms
2024-12-27 10:07:49.508 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'ApplicationDbContext'.
System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-12-27 10:07:50.191 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:07:50.601 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:07:50.603 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 411.8837ms
2024-12-27 10:07:59.413 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8812.226ms
2024-12-27 10:10:23.365 +03:30 [INF] User profile is available. Using 'C:\Users\hoda\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-27 10:10:25.029 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:10:25.518 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-12-27 10:10:25.520 +03:30 [INF] Hosting environment: Development
2024-12-27 10:10:25.521 +03:30 [INF] Content root path: D:\Projects\AuthorizationProject01\AuthorizationProject01
2024-12-27 10:10:26.167 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:10:26.237 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 10:10:26.563 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:10:26.617 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 2.5688ms.
2024-12-27 10:10:26.706 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:10:27.381 +03:30 [INF] Executed ViewResult - view Index executed in 662.8454ms.
2024-12-27 10:10:27.387 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 1147.8131ms
2024-12-27 10:10:27.388 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:10:27.441 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 2490.4698ms
2024-12-27 10:10:28.510 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2024-12-27 10:10:28.683 +03:30 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Projects\AuthorizationProject01\AuthorizationProject01\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2024-12-27 10:10:28.738 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:44317/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 232.1581ms
2024-12-27 10:10:29.072 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:10:29.084 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:10:29.149 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 18.6909ms
2024-12-27 10:10:29.340 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 268.0002ms
2024-12-27 10:10:30.352 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Claim/AddClaim - null null
2024-12-27 10:10:30.765 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-12-27 10:10:30.803 +03:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-12-27 10:10:30.810 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Claim/AddClaim - 302 null null 457.543ms
2024-12-27 10:10:30.881 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - null null
2024-12-27 10:10:31.103 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:10:31.113 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller AccountController (AuthorizationProject01).
2024-12-27 10:10:31.355 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:10:31.356 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.6312ms.
2024-12-27 10:10:31.361 +03:30 [INF] Executing ViewResult, running view Login.
2024-12-27 10:10:31.461 +03:30 [INF] Executed ViewResult - view Login executed in 104.0581ms.
2024-12-27 10:10:31.466 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 352.3262ms
2024-12-27 10:10:31.467 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:10:31.587 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 200 null text/html; charset=utf-8 706.1377ms
2024-12-27 10:10:32.110 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:10:32.148 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 37.7725ms
2024-12-27 10:10:32.162 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:10:32.440 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 278.3301ms
2024-12-27 10:10:38.805 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - application/x-www-form-urlencoded 225
2024-12-27 10:10:39.037 +03:30 [INF] Executing endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:10:39.117 +03:30 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller AccountController (AuthorizationProject01).
2024-12-27 10:10:39.420 +03:30 [INF] Executing action method AccountController.Login (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:10:49.727 +03:30 [INF] Executed DbCommand (518ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-12-27 10:10:51.261 +03:30 [INF] Executed DbCommand (49ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-12-27 10:10:51.454 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-27 10:10:51.502 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-12-27 10:10:51.568 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2024-12-27 10:10:51.596 +03:30 [INF] AuthenticationScheme: Identity.Application signed in.
2024-12-27 10:10:51.645 +03:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-27 10:10:54.183 +03:30 [INF] AuthenticationScheme: Cookies signed in.
2024-12-27 10:10:59.547 +03:30 [INF] Executed action method AccountController.Login (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.RedirectToActionResult in 20126.2219ms.
2024-12-27 10:10:59.565 +03:30 [INF] Executing RedirectResult, redirecting to /.
2024-12-27 10:10:59.568 +03:30 [INF] Executed action AccountController.Login (AuthorizationProject01) in 20450.3829ms
2024-12-27 10:10:59.572 +03:30 [INF] Executed endpoint 'AccountController.Login (AuthorizationProject01)'
2024-12-27 10:10:59.592 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/ - null null
2024-12-27 10:10:59.775 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44317/Account/Login?ReturnUrl=%2FClaim%2FAddClaim - 302 null null 20970.9766ms
2024-12-27 10:10:59.800 +03:30 [INF] Executing endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:10:59.801 +03:30 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller AuthorizationProject01.Controllers.HomeController (AuthorizationProject01).
2024-12-27 10:11:00.010 +03:30 [INF] Executing action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) - Validation state: "Valid"
2024-12-27 10:11:00.011 +03:30 [INF] Executed action method AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.0579ms.
2024-12-27 10:11:00.030 +03:30 [INF] Executing ViewResult, running view Index.
2024-12-27 10:11:00.161 +03:30 [INF] Executed ViewResult - view Index executed in 150.1351ms.
2024-12-27 10:11:00.162 +03:30 [INF] Executed action AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01) in 360.8173ms
2024-12-27 10:11:00.162 +03:30 [INF] Executed endpoint 'AuthorizationProject01.Controllers.HomeController.Index (AuthorizationProject01)'
2024-12-27 10:11:00.164 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/ - 200 null text/html; charset=utf-8 571.1382ms
2024-12-27 10:11:01.248 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - null null
2024-12-27 10:11:01.304 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 55.8061ms
2024-12-27 10:11:01.346 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44317/_vs/browserLink - null null
2024-12-27 10:11:01.640 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44317/_vs/browserLink - 200 null text/javascript; charset=UTF-8 294.0413ms
